<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <title>–£–º–Ω—ã–π –ø–æ–ª–∏–≤</title>

  <!-- –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è -->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">

  <!-- PWA -->
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2bbbad">

  <!-- iOS -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="apple-mobile-web-app-title" content="–ü–æ–ª–∏–≤">
  <link rel="apple-touch-icon" href="apple-touch-icon-irrigation.png">

  <!-- –ò–∫–æ–Ω—ã -->
  <link rel="icon" type="image/png" sizes="32x32" href="irrigation.png">
  <link rel="icon" type="image/png" sizes="96x96" href="irrigation-96x96.png">

  <!-- –°—Ç–∏–ª–∏ -->
  <link rel="stylesheet" href="style.css">

  <!-- –°–∫—Ä–∏–ø—Ç—ã -->
  <script src="app.js" defer></script>
</head>
<body>

<header class="app-header">
  <h1 class="app-title">–£–º–Ω—ã–π –ø–æ–ª–∏–≤</h1>

  <div class="top-actions">
    <button id="settingsBtn" class="top-btn">‚öôÔ∏è</button>
    <button id="scheduleBtn" class="top-btn">‚è∞</button>
    <button id="exitBtn" class="top-btn danger">‚ùå</button>  <!-- –∫–Ω–æ–ø–∫–∞ –∑–∞–∫—Ä—ã—Ç—å -->
  </div>
</header>

<div class="status">
  <p>üíß –í–æ–¥–∞: <span id="water">0</span>%</p>
  <p>üîã –ë–∞—Ç–∞—Ä–µ—è: <span id="battery">0</span>%</p>
  <label>
    –ê–≤—Ç–æ —Ä–µ–∂–∏–º:
    <input type="checkbox" id="autoMode">
  </label>
</div>

<div class="plants">
  <div class="plant">
    üå± –†–∞—Å—Ç–µ–Ω–∏–µ 1 ‚Äî –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚Äî <span class="moisture">0</span>%
    <button id="pump1Btn">–í–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–æ—Å</button>
  </div>
  <div class="plant">
    üçÖ –†–∞—Å—Ç–µ–Ω–∏–µ 2 ‚Äî –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚Äî <span class="moisture">0</span>%
    <button id="pump2Btn">–í–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–æ—Å</button>
  </div>
  <div class="plant">
    üåª –†–∞—Å—Ç–µ–Ω–∏–µ 3 ‚Äî –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚Äî <span class="moisture">0</span>%
    <button id="pump3Btn">–í–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–æ—Å</button>
  </div>
  <div class="plant">
    üçì –†–∞—Å—Ç–µ–Ω–∏–µ 4 ‚Äî –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚Äî <span class="moisture">0</span>%
    <button id="pump4Btn">–í–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–æ—Å</button>
  </div>
  <div class="plant">
    üåø –†–∞—Å—Ç–µ–Ω–∏–µ 5 ‚Äî –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚Äî <span class="moisture">0</span>%
    <button id="pump5Btn">–í–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–æ—Å</button>
  </div>
  <div class="plant">
    üåøüçì –†–∞—Å—Ç–µ–Ω–∏–µ ≈æ ‚Äî –≤–ª–∞–∂–Ω–æ—Å—Ç—å ‚Äî <span class="moisture">+√©√©</span>%
    <button id="pump6Btn">–í–∫–ª—é—á–∏—Ç—å –Ω–∞—Å–æ—Å</button>
  </div>
</div>

<!-- ===== –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ–µ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ ===== -->
<div id="modalRoot" class="modal hidden">
  <div class="modal-content">
    <h3 id="modalTitle"></h3>
    <div id="modalBody"></div>
    <div class="modal-buttons">
      <button class="save" id="modalOk">OK</button>
      <button class="cancel" id="modalCancel">–û—Ç–º–µ–Ω–∞</button>
    </div>
  </div>
</div>

<!-- ===== –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ: –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ ===== -->
<div id="scheduleModal" class="modal">
  <div class="modal-content schedule">

    <h2>‚è∞ –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª–∏–≤–∞</h2>

    <!-- ===== –†–µ–∂–∏–º –ø–æ –≤—Ä–µ–º–µ–Ω–∏ ===== -->
    <div class="schedule-section">
      <label class="section-header">
        <input type="radio" name="scheduleMode" value="time" checked>
        –ü–æ –≤—Ä–µ–º–µ–Ω–∏
      </label>

      <div class="section-body" id="timeMode">
        <p>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–∏–≤–æ–≤: <b id="wateringCount">0</b></p>

        <div id="timeList"></div>

        <button class="add-btn" id="addTimeBtn">+ –î–æ–±–∞–≤–∏—Ç—å –≤—Ä–µ–º—è</button>
      </div>
    </div>

    <!-- ===== –†–µ–∂–∏–º –ø–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É ===== -->
<div class="schedule-section">
  <label class="section-header">
    <input type="radio" name="scheduleMode" value="interval">
    –ü–æ –∏–Ω—Ç–µ—Ä–≤–∞–ª—É
  </label>

  <div class="section-body disabled" id="intervalMode">

    <div class="status-row">
      <label for="intervalCount">–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ–ª–∏–≤–æ–≤</label>
      <input type="number" id="intervalCount" min="1">
    </div>

    <div class="status-row">
      <label for="intervalHours">–ò–Ω—Ç–µ—Ä–≤–∞–ª (—á–∞—Å–æ–≤):</label>
      <input type="number" id="intervalHours" min="1" max="12">
    </div>

    <div class="status-row">
      <label for="intervalStart">–ù–∞—á–∞—Ç—å —Å:</label>
      <input type="time" id="intervalStart">
    </div>

  </div>
</div>


    <!-- ===== –°–ø—è—â–∏–π —Ä–µ–∂–∏–º ===== -->
    <div class="schedule-section">
      <h3>üåô –°–ø—è—â–∏–π —Ä–µ–∂–∏–º</h3>

      <label>
        –°:
        <input type="time" id="sleepFrom" value="22:00">
      </label>

      <label>
        –î–æ:
        <input type="time" id="sleepTo" value="06:00">
      </label>
    </div>

    <div class="modal-buttons">
     <button class="save" id="saveScheduleBtn">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button> 
      <button class="cancel" id="closeScheduleBtn">–ó–∞–∫—Ä—ã—Ç—å</button> 
    </div>

  </div>
 </div>

 <div id="toastContainer"></div>

</body>
</html>














